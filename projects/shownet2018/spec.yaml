
nodes:

  - name: P1
    image: slankdev/ovs
    interfaces:
      - { name: to_R1_net0, type: direct, args: R1#net0 }
      - { name: to_R2_net0, type: direct, args: R2#net0 }
      - { name: to_R3_net0, type: direct, args: R3#net0 }
      - { name: to_R4_net0, type: direct, args: R4#net0 }
      - { name: to_F1_net0, type: direct, args: F1#net0 }
      - { name: to_F1_net1, type: direct, args: F1#net1 }
      - { name: to_F2_net0, type: direct, args: F2#net0 }
      - { name: to_F2_net1, type: direct, args: F2#net1 }
      - { name: ens8f0, type: phys }
      - { name: ens8f1, type: phys }

  - name: R1
    image: slankdev/frr
    interfaces: [ { name: net0, type: direct, args: P1#to_R1_net0 } ]
  - name: R2
    image: slankdev/frr
    interfaces: [ { name: net0, type: direct, args: P1#to_R2_net0 } ]
  - name: R3
    image: slankdev/frr
    interfaces: [ { name: net0, type: direct, args: P1#to_R3_net0 } ]
  - name: R4
    image: slankdev/frr
    interfaces: [ { name: net0, type: direct, args: P1#to_R4_net0 } ]

  - name: F1
    image: slankdev/frr
    interfaces:
    - { name: net0, type: direct, args: P1#to_F1_net0 }
    - { name: net1, type: direct, args: P1#to_F1_net1 }
  - name: F2
    image: slankdev/frr
    interfaces:
    - { name: net0, type: direct, args: P1#to_F2_net0 }
    - { name: net1, type: direct, args: P1#to_F2_net1 }


node_configs:

  - name: R1
    cmds:
      - cmd: echo R2 config


